---
const { title, listItems, imageSrc, imageAlt, ctaText, ctaLink } = Astro.props;
---

<div class="container">
  <div class="hero-text">
    <h1>{title}</h1>
    <ul class="animated-list">
      {
        listItems.map((item) => (
          <li>
            <span class="checkmark">âœ“</span> {item}
          </li>
        ))
      }
    </ul>
    <a href="/blog" class="cta-button">{ctaText}</a>
  </div>

  <div class="image-container">
    <img src={imageSrc} alt={imageAlt} loading="lazy" />
  </div>
</div>

<script>
  const listItems = document.querySelectorAll(".animated-list li");

  function animateListItems() {
    let delay = 0.2;

    listItems.forEach((item) => {
      setTimeout(() => {
        item.classList.add("show");
      }, delay * 1000);
      delay += 0.2;
    });
  }

  const observer = new IntersectionObserver(
    (entries) => {
      if (entries[0].isIntersecting) {
        animateListItems();
        observer.disconnect();
      }
    },
    { threshold: 0.5 }
  );

  const animatedList = document.querySelector(".animated-list");
  if (animatedList) {
    observer.observe(animatedList);
  }
</script>
